(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},48:function(e,t,a){e.exports=a(81)},53:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(13);a(19);var s=function(){return r.a.createElement("footer",{className:"navbar sticky-bottom navbar-expand-md navbar-dark bg-dark"},r.a.createElement("br",null),r.a.createElement("a",{className:"navbar-brand mx-auto text-center",href:"/"},"\xa9 Copyright 2020: Rocio-Nigar-Carson-Claudiu"))},m=(a(53),a(4)),i=a(3),u=a(18),p=a(21),d=a(14),E=a.n(d),b={getItems:function(){return E.a.get("/api/items")},getItem:function(e){return E.a.get("/api/items/"+e)},deleteItem:function(e){return E.a.delete("/api/items/"+e)},saveItem:function(e){return console.log("Saving Item",e),E.a.post("/api/items",e)}},f=(a(16),a(31)),g=a.n(f),h=(a(71),a(82),a(83),g.a.initializeApp({apiKey:"AIzaSyCfBfwXk2p9aUvWSpplDuVAJzU1pRzdnqE",authDomain:"sport-adventures.firebaseapp.com",databaseURL:"https://sport-adventures.firebaseio.com",projectId:"sport-adventures",storageBucket:"sport-adventures.appspot.com",messagingSenderId:"338297074338",appId:"1:338297074338:web:96afd4e80f01916276ddfb",measurementId:"G-9RD90QL64V"})),v=h.storage();g.a.analytics();var y=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),i=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement("img",{src:i||"https://cdn.dribbble.com/users/4714/screenshots/1450303/icons-sports.png",alt:"firebaseimage",height:"200",width:"200"}),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&c(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){v.ref("images/".concat(l.name)).put(l).on("state_changed",function(e){},function(e){},function(){v.ref("images").child(l.name).getDownloadURL().then(function(t){u(t),e.func(t)})})}},"Upload"))};Object(l.render)(r.a.createElement(y,null),document.querySelector("#root"));var N=y;var j=function(e){var t=e.user,a=Object(n.useState)({category:"",title:"",description:"",location:"",price:"",photoURL:"",phone:"",email:""}),l=Object(m.a)(a,2),c=l[0],o=l[1],s=function(e){o(Object(p.a)({},c,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header text-light bg-dark text-center"},"List your item"),r.a.createElement(N,{func:function(e){return o(Object(p.a)({},c,{photoURL:e}))}}),r.a.createElement("form",{className:"inputItem"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Category"),r.a.createElement("select",{onChange:s,className:"form-control ",name:"category",type:"text"},r.a.createElement("option",null,"Select category"),r.a.createElement("option",null,"Skis"),r.a.createElement("option",null,"Snowboards"),r.a.createElement("option",null,"Bicycles"),r.a.createElement("option",null,"Roller blades"),r.a.createElement("option",null,"Golf clubs"),r.a.createElement("option",null,"Surfboards"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Item title "),r.a.createElement("input",{type:"text",className:"form-control",name:"title",onChange:s}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Description"),r.a.createElement("input",{type:"text",className:"form-control",name:"description",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",name:"location",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Price"),r.a.createElement("input",{type:"text",className:"form-control",name:"price",onChange:s})),r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Phone"),r.a.createElement("input",{type:"text",className:"form-control",name:"phone",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:t.email,readOnly:!0,onFocus:s})),r.a.createElement("button",{onClick:function(e){e.preventDefault(),b.saveItem(c)},type:"submit",className:"btn btn-primary"},"Submit"))),r.a.createElement("br",null))},w=a(22),O=a.n(w),S=a(32);var x=function(e){var t=e.user,a=Object(n.useRef)(null),l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(m.a)(i,2),p=u[0],d=u[1],b=function(){var e=Object(S.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(p),e.next=4,d(t.target.value);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(a.current.value,p),""===a.current.value&&""===p){e.next=8;break}return e.next=5,E.a.get("/api/search",{params:{search:a.current.value,category:p}}).then(function(e){return e.data});case 5:n=e.sent,console.log(n),s(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h1",null,"Sport Adventures"),r.a.createElement("h3",null,"Find the right gear to fuel your next adventure")),r.a.createElement("input",{ref:a,className:"form-control",type:"text",placeholder:"Search for gear in this city","aria-label":"Search"}),r.a.createElement("br",null),r.a.createElement("select",{onChange:b,className:"form-control "},r.a.createElement("option",{value:""},"Select category"),r.a.createElement("option",{value:"skis"},"Skis"),r.a.createElement("option",{value:"snowboards"},"Snowboards"),r.a.createElement("option",{value:"bicycles"},"Bicycles"),r.a.createElement("option",{value:"roller blades"},"Roller blades"),r.a.createElement("option",{value:"golf clubs"},"Golf clubs"),r.a.createElement("option",{value:"surfboards"},"Surfboards")),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:f,className:"btn btn-primary my-2 my-sm-0",type:"submit"},"Search")),r.a.createElement("br",null),o.length?o.map(function(e){return r.a.createElement("div",{className:"card float-right w-50",key:e._id},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-header text-center"},e.title),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Category: ",e.category),r.a.createElement("li",{className:"list-group-item"},"Description: ",e.description),r.a.createElement("li",{className:"list-group-item"},"Location: ",e.location),r.a.createElement("li",{className:"list-group-item"},"Price: ",e.price),r.a.createElement("li",{className:"list-group-item"},"Phone number: ",e.phone),r.a.createElement("li",{className:"list-group-item"},"Email: ",e.email)),r.a.createElement("button",{onClick:function(){return a=e._id,console.log(t.uid),void console.log(a);var a},className:"card-link"},"Rent it")))}):null)},k=function(e){var t=e.handleLogin,a=e.handleSignup,l=e.hasAccount,c=e.setHasAccount,o=e.emailError,s=e.passwordError,i=Object(n.useState)({email:"",password:""}),d=Object(m.a)(i,2),E=d[0],b=d[1],f=function(e){b(Object(p.a)({},E,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,name:"email",onChange:f}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("p",{className:"errorMsg"},o),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",required:!0,onChange:f})),r.a.createElement("p",{className:"errorMsg"},s),r.a.createElement("div",{className:"btnContainer"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn-primary",onClick:function(e){t(e,E.email,E.password)}},"Sign in"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Don't have an account? ",r.a.createElement("span",{className:"text-danger bg-light",onClick:function(){c(!l)}},"Sign up"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn-primary",onClick:function(e){a(e,E.email,E.password)}},"Sign up"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Already have an account? ",r.a.createElement("span",{className:"text-danger bg-light",onClick:function(){c(!l)}},"Sign in")))))},C=a(23),I=a(24),F=a(26),A=a(25),P=a(27),R=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement("img",{src:s||"https://lippianfamilydentistry.net/wp-content/uploads/2015/11/user-default.png",alt:"firebaseimage",height:"200",width:"200"}),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){v.ref("images/".concat(a.name)).put(a).on("state_changed",function(e){},function(e){},function(){v.ref("images").child(a.name).getDownloadURL().then(function(e){i(e)})})}},"Upload"))};Object(l.render)(r.a.createElement(R,null),document.querySelector("#root"));var L=R,D=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(F.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={},a.imageHandler=function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&a.setState({profileImg:t.result})},t.readAsDataURL(e.target.files[0])},a}return Object(P.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"profile"},r.a.createElement(L,null))))}}]),t}(n.Component),U=function(e){function t(){return Object(C.a)(this,t),Object(F.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"history"},"History")))}}]),t}(n.Component),q=function(e){var t=e.handleLogout,a=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("p",null,"You are currently signed in as : ",a.email),r.a.createElement("button",{className:"btn-primary",onClick:t},"Logout"),r.a.createElement("br",null),r.a.createElement(D,null),r.a.createElement(U,null))};var G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("ul",{className:"ml-auto navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"/"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/login",className:"/login"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/profile",className:"/profile"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Profile")))))},H=a(47),K=function(e){var t=e.component,a=e.isAuthed,n=Object(H.a)(e,["component","isAuthed"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/login"})}}))};var Q=Object(i.f)(function(e){var t=e.history,a=Object(n.useState)(null),l=Object(m.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),p=u[0],d=u[1],E=Object(n.useState)(""),b=Object(m.a)(E,2),f=b[0],g=b[1],v=Object(n.useState)(""),y=Object(m.a)(v,2),N=y[0],w=y[1],O=Object(n.useState)(""),S=Object(m.a)(O,2),C=S[0],I=S[1],F=Object(n.useState)(!1),A=Object(m.a)(F,2),P=A[0],R=A[1],L=function(){w(""),I("")},D=function(e,t,a){e.preventDefault(),L(),h.auth().signInWithEmailAndPassword(t,a).catch(function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":w(e.message);break;case"auth/wrong-password":I(e.message)}})},U=function(e,t,a){e.preventDefault(),L(),console.log("handle signup is happening!!!",t,a),h.auth().createUserWithEmailAndPassword(t,a).catch(function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":w(e.message);break;case"auth/weak-password":I(e.message)}})},H=function(){o(null),h.auth().signOut(),t.push("/")};return Object(n.useEffect)(function(){h.auth().onAuthStateChanged(function(e){null!==e?(d(""),g(""),o(e),t.push("/profile")):o(null)})},[]),r.a.createElement("div",{className:"container"},r.a.createElement(G,null),r.a.createElement(i.b,{exact:!0,path:"/",component:function(){return r.a.createElement(x,{user:c})}}),r.a.createElement(K,{isAuthed:null!==c,path:"/profile",component:function(){return r.a.createElement(q,{user:c,handleLogout:H})}}),r.a.createElement(K,{isAuthed:null!==c,path:"/profile",component:function(){return r.a.createElement(j,{user:c})}}),r.a.createElement(i.b,{path:"/login",component:function(){return r.a.createElement(k,{email:p,setEmail:d,password:f,setPassword:g,handleLogin:D,handleSignup:U,hasAccount:P,setHasAccount:R,emailError:N,passwordError:C})}}),r.a.createElement("script",{src:"https://code.jquery.com/jquery-3.2.1.slim.min.js",integrity:"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js",integrity:"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js",integrity:"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl",crossOrigin:"anonymous"}))});c.a.render(r.a.createElement(o.a,null,r.a.createElement(Q,null),r.a.createElement(s,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.e0996fd2.chunk.js.map