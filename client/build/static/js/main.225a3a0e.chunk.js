(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){},48:function(e,a,t){e.exports=t(81)},53:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),c=t.n(l),o=t(13);t(17);var s=function(){return r.a.createElement("footer",{className:"navbar sticky-bottom navbar-expand-md navbar-dark bg-dark"},r.a.createElement("br",null),r.a.createElement("a",{className:"navbar-brand mx-auto text-center",href:"/"},"\xa9 Copyright 2020: Rocio-Nigar-Carson-Claudiu"))},m=(t(53),t(6)),i=t(3),u=t(16),p=t(22),d=t(14),E=t.n(d),b={getItems:function(){return E.a.get("/api/items")},getItem:function(e){return E.a.get("/api/items/"+e)},deleteItem:function(e){return E.a.delete("/api/items/"+e)},saveItem:function(e){return console.log("Saving Item",e),E.a.post("/api/items",e)}};t(18);var f=function(e){var a=e.user,t=Object(n.useState)({category:"",title:"",description:"",location:"",price:"",photoURL:"",phone:"",email:""}),l=Object(m.a)(t,2),c=l[0],o=l[1],s=function(e){o(Object(p.a)({},c,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("div",{className:"card-header text-light bg-dark text-center"},"List your item"),r.a.createElement("form",{className:"inputItem"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Category"),r.a.createElement("select",{onChange:s,className:"form-control ",name:"category",type:"text"},r.a.createElement("option",null,"Select category"),r.a.createElement("option",null,"Skis"),r.a.createElement("option",null,"Snowboards"),r.a.createElement("option",null,"Bicycles"),r.a.createElement("option",null,"Roller blades"),r.a.createElement("option",null,"Golf clubs"),r.a.createElement("option",null,"Surfboards"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Item title "),r.a.createElement("input",{type:"text",className:"form-control",name:"title",onChange:s}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Description"),r.a.createElement("input",{type:"text",className:"form-control",name:"description",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",name:"location",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Price"),r.a.createElement("input",{type:"text",className:"form-control",name:"price",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Photo"),r.a.createElement("input",{type:"text",className:"form-control",name:"photoURL",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Phone"),r.a.createElement("input",{type:"text",className:"form-control",name:"phone",onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:a.email,readOnly:!0,onFocus:s})),r.a.createElement("button",{onClick:function(e){e.preventDefault(),b.saveItem(c)},type:"submit",className:"btn btn-primary"},"Submit"))),r.a.createElement("br",null))},g=t(20),h=t.n(g),v=t(31);var y=function(e){var a=e.user,t=Object(n.useRef)(null),l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(m.a)(i,2),p=u[0],d=u[1],b=function(){var e=Object(v.a)(h.a.mark(function e(a){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(p),e.next=4,d(a.target.value);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),f=function(){var e=Object(v.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(t.current.value,p),""===t.current.value&&""===p){e.next=8;break}return e.next=5,E.a.get("/api/search",{params:{search:t.current.value,category:p}}).then(function(e){return e.data});case 5:n=e.sent,console.log(n),s(n);case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h1",null,"Sport Adventures"),r.a.createElement("h3",null,"Find the right gear to fuel your next adventure")),r.a.createElement("input",{ref:t,className:"form-control",type:"text",placeholder:"Search for gear in this city","aria-label":"Search"}),r.a.createElement("br",null),r.a.createElement("select",{onChange:b,className:"form-control "},r.a.createElement("option",{value:""},"Select category"),r.a.createElement("option",{value:"skis"},"Skis"),r.a.createElement("option",{value:"snowboards"},"Snowboards"),r.a.createElement("option",{value:"bicycles"},"Bicycles"),r.a.createElement("option",{value:"roller blades"},"Roller blades"),r.a.createElement("option",{value:"golf clubs"},"Golf clubs"),r.a.createElement("option",{value:"surfboards"},"Surfboards")),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:f,className:"btn btn-primary my-2 my-sm-0",type:"submit"},"Search")),r.a.createElement("br",null),o.length?o.map(function(e){return r.a.createElement("div",{className:"card float-right w-50",key:e._id},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-header text-center"},e.title),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Category: ",e.category),r.a.createElement("li",{className:"list-group-item"},"Description: ",e.description),r.a.createElement("li",{className:"list-group-item"},"Location: ",e.location),r.a.createElement("li",{className:"list-group-item"},"Price: ",e.price),r.a.createElement("li",{className:"list-group-item"},"Phone number: ",e.phone),r.a.createElement("li",{className:"list-group-item"},"Email: ",e.email)),r.a.createElement("button",{onClick:function(){return t=e._id,console.log(a.uid),void console.log(t);var t},className:"card-link"},"Rent it")))}):null)},N=function(e){var a=e.handleLogin,t=e.handleSignup,l=e.hasAccount,c=e.setHasAccount,o=e.emailError,s=e.passwordError,i=Object(n.useState)({email:"",password:""}),d=Object(m.a)(i,2),E=d[0],b=d[1],f=function(e){b(Object(p.a)({},E,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,name:"email",onChange:f}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("p",{className:"errorMsg"},o),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",required:!0,onChange:f})),r.a.createElement("p",{className:"errorMsg"},s),r.a.createElement("div",{className:"btnContainer"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn-primary",onClick:function(e){a(e,E.email,E.password)}},"Sign in"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Don't have an account? ",r.a.createElement("span",{className:"text-danger bg-light",onClick:function(){c(!l)}},"Sign up"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn-primary",onClick:function(e){t(e,E.email,E.password)}},"Sign up"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Already have an account? ",r.a.createElement("span",{className:"text-danger bg-light",onClick:function(){c(!l)}},"Sign in")))))},j=t(23),w=t(24),O=t(26),x=t(25),k=t(27),S=t(32),C=t.n(S),I=(t(73),t(82),t(83),C.a.initializeApp({apiKey:"AIzaSyCfBfwXk2p9aUvWSpplDuVAJzU1pRzdnqE",authDomain:"sport-adventures.firebaseapp.com",databaseURL:"https://sport-adventures.firebaseio.com",projectId:"sport-adventures",storageBucket:"sport-adventures.appspot.com",messagingSenderId:"338297074338",appId:"1:338297074338:web:96afd4e80f01916276ddfb",measurementId:"G-9RD90QL64V"})),F=I.storage();C.a.analytics();var P=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement("img",{src:s||"https://lippianfamilydentistry.net/wp-content/uploads/2015/11/user-default.png",alt:"firebaseimage",height:"200",width:"200"}),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){F.ref("images/".concat(t.name)).put(t).on("state_changed",function(e){},function(e){},function(){F.ref("images").child(t.name).getDownloadURL().then(function(e){i(e)})})}},"Upload"))};Object(l.render)(r.a.createElement(P,null),document.querySelector("#root"));var A=P,R=function(e){function a(){var e,t;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(O.a)(this,(e=Object(x.a)(a)).call.apply(e,[this].concat(r)))).state={},t.imageHandler=function(e){var a=new FileReader;a.onload=function(){2===a.readyState&&t.setState({profileImg:a.result})},a.readAsDataURL(e.target.files[0])},t}return Object(k.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"profile"},r.a.createElement(A,null))))}}]),a}(n.Component),L=function(e){function a(){return Object(j.a)(this,a),Object(O.a)(this,Object(x.a)(a).apply(this,arguments))}return Object(k.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"history"},"History")))}}]),a}(n.Component),D=function(e){var a=e.handleLogout,t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("p",null,"You are currently signed in as : ",t.email),r.a.createElement("button",{className:"btn-primary",onClick:a},"Logout"),r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement(L,null))};var U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement("ul",{className:"ml-auto navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"/"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/login",className:"/login"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/profile",className:"/profile"===window.location.pathname?"nav-link activeClassName":"nav-link"},"Profile")))))},G=t(47),H=function(e){var a=e.component,t=e.isAuthed,n=Object(G.a)(e,["component","isAuthed"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/login"})}}))};var K=Object(i.f)(function(e){var a=e.history,t=Object(n.useState)(null),l=Object(m.a)(t,2),c=l[0],o=l[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),p=u[0],d=u[1],E=Object(n.useState)(""),b=Object(m.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(""),j=Object(m.a)(v,2),w=j[0],O=j[1],x=Object(n.useState)(""),k=Object(m.a)(x,2),S=k[0],C=k[1],F=Object(n.useState)(!1),P=Object(m.a)(F,2),A=P[0],R=P[1],L=function(){O(""),C("")},G=function(e,a,t){e.preventDefault(),L(),I.auth().signInWithEmailAndPassword(a,t).catch(function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":O(e.message);break;case"auth/wrong-password":C(e.message)}})},K=function(e,a,t){e.preventDefault(),L(),console.log("handle signup is happening!!!",a,t),I.auth().createUserWithEmailAndPassword(a,t).catch(function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":O(e.message);break;case"auth/weak-password":C(e.message)}})},Q=function(){o(null),I.auth().signOut(),a.push("/")};return Object(n.useEffect)(function(){I.auth().onAuthStateChanged(function(e){null!==e?(d(""),h(""),o(e),a.push("/profile")):o(null)})},[]),r.a.createElement("div",{className:"container"},r.a.createElement(U,null),r.a.createElement(i.b,{exact:!0,path:"/",component:function(){return r.a.createElement(y,{user:c})}}),r.a.createElement(H,{isAuthed:null!==c,path:"/profile",component:function(){return r.a.createElement(D,{user:c,handleLogout:Q})}}),r.a.createElement(H,{isAuthed:null!==c,path:"/profile",component:function(){return r.a.createElement(f,{user:c})}}),r.a.createElement(i.b,{path:"/login",component:function(){return r.a.createElement(N,{email:p,setEmail:d,password:g,setPassword:h,handleLogin:G,handleSignup:K,hasAccount:A,setHasAccount:R,emailError:w,passwordError:S})}}),r.a.createElement("script",{src:"https://code.jquery.com/jquery-3.2.1.slim.min.js",integrity:"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js",integrity:"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js",integrity:"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl",crossOrigin:"anonymous"}))});c.a.render(r.a.createElement(o.a,null,r.a.createElement(K,null),r.a.createElement(s,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.225a3a0e.chunk.js.map