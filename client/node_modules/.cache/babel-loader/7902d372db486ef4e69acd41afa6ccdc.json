{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nigarabdullayeva/Desktop/proj three/project_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nigarabdullayeva/Desktop/proj three/project_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/nigarabdullayeva/Desktop/proj three/project_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nigarabdullayeva/Desktop/proj three/project_3/client/src/components/Home.js\";\nimport React, { useState, useRef } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\n\nfunction Home() {\n  var _this = this;\n\n  var input = useRef(null);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      results = _useState2[0],\n      setResults = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cat = _useState4[0],\n      setCat = _useState4[1];\n\n  var changeCat = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              evt.preventDefault();\n              console.log(cat);\n              _context.next = 4;\n              return setCat(evt.target.value);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function changeCat(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSubmitSearch = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(evt) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              evt.preventDefault();\n              console.log(input.current.value, cat);\n\n              if (!(input.current && input.current.value)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return axios.get('/api/search', {\n                params: {\n                  search: input.current.value,\n                  category: cat\n                }\n              }).then(function (_ref3) {\n                var data = _ref3.data;\n                return data;\n              });\n\n            case 5:\n              data = _context2.sent;\n              console.log(data);\n              setResults(data);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onSubmitSearch(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jumbotron text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"Sport Adventures\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Find the right gear to fuel your next adventure\")), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input,\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: \"Search for gear in this city\",\n    \"aria-label\": \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 128\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: changeCat,\n    className: \"form-control \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Select category\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"skis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Skis\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"snowboards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Snowboards\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"bicycles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Bicycles\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"roller blades\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Roller blades\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"golf clubs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Golf clubs\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"surfboards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Surfboards\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onSubmitSearch,\n    className: \"btn btn-primary my-2 my-sm-0\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), results.length ? results.map(function (result) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card float-right w-50\",\n      key: result._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-header text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, result.title), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group list-group-flush\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"Category: \", result.category), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"Description: \", result.description), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, \"Location: \", result.location), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, \"Price: \", result.price), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, \"Phone number: \", result.phone)), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/profile\",\n      className: \"card-link\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Rent it\")));\n  }) : null);\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/nigarabdullayeva/Desktop/proj three/project_3/client/src/components/Home.js"],"names":["React","useState","useRef","axios","Home","input","results","setResults","cat","setCat","changeCat","evt","preventDefault","console","log","target","value","onSubmitSearch","current","get","params","search","category","then","data","length","map","result","_id","title","description","location","price","phone"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\n\n\nfunction Home() {\n  const input = useRef(null);\n \n  const [results, setResults] = useState([]);\n  const [cat, setCat] = useState(\"\");\n\n  const changeCat = async (evt) => {\n    evt.preventDefault();\n    console.log(cat);\n    await setCat(evt.target.value)\n  }\n\n  const onSubmitSearch = async (evt) => {\n    evt.preventDefault();\n    console.log(input.current.value,cat);\n    if (input.current && input.current.value) {\n      const data = await axios.get('/api/search', {\n        params: {\n          search: input.current.value,\n          category: cat\n        }\n      }).then(({ data }) => data);\n      console.log(data);\n      setResults(data)\n    }\n  }\n  return (\n    <>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <div className=\"jumbotron text-center\">\n        <h1>Sport Adventures</h1>\n        <h3>Find the right gear to fuel your next adventure</h3></div>\n      <input ref={input} className=\"form-control\" type=\"text\" placeholder=\"Search for gear in this city\" aria-label=\"Search\" /><br />\n      <select onChange={changeCat} className=\"form-control \">\n        <option>Select category</option>\n        <option value=\"skis\">Skis</option>\n        <option value=\"snowboards\">Snowboards</option>\n        <option value=\"bicycles\">Bicycles</option>\n        <option value=\"roller blades\">Roller blades</option>\n        <option value=\"golf clubs\">Golf clubs</option>\n        <option value=\"surfboards\">Surfboards</option>\n      </select>\n      <br />\n      <div className=\"text-center\">\n        <button onClick={onSubmitSearch} className=\"btn btn-primary my-2 my-sm-0\" type=\"submit\">Search</button>\n      </div>\n      <br />\n\n      {results.length ? results.map((result) => <div className=\"card float-right w-50\" key={result._id}>\n\n        <div className=\"card-body\">\n          <h5 className=\"card-header text-center\">{result.title}</h5>\n          <ul className=\"list-group list-group-flush\">\n            <li className=\"list-group-item\">Category: {result.category}</li>\n            <li className=\"list-group-item\">Description: {result.description}</li>\n            <li className=\"list-group-item\">Location: {result.location}</li>\n            <li className=\"list-group-item\">Price: {result.price}</li>\n            <li className=\"list-group-item\">Phone number: {result.phone}</li>\n          </ul>\n          <a href=\"/profile\" className=\"card-link\">Rent it</a>\n        </div>\n\n      </div>) : null}\n    </>\n  )\n}\nexport default Home"]},"metadata":{},"sourceType":"module"}