{"ast":null,"code":"import _slicedToArray from \"/Users/MacbookPro/Desktop/projects/project_3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/MacbookPro/Desktop/projects/project_3/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Route, withRouter } from 'react-router-dom';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Profile from './components/Profile';\nimport Navbar from './components/Navbar';\nimport fire from './fire';\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nfunction App(_ref) {\n  var _this = this;\n\n  var history = _ref.history;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      emailError = _useState8[0],\n      setEmailError = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      passwordError = _useState10[0],\n      setPasswordError = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      hasAccount = _useState12[0],\n      setHasAccount = _useState12[1];\n\n  var clearInputs = function clearInputs() {\n    setEmail('');\n    setPassword('');\n  };\n\n  var clearErrors = function clearErrors() {\n    setEmailError('');\n    setPasswordError('');\n  };\n\n  var handleLogin = function handleLogin(evt) {\n    console.log('handle login is happening!!!', email, password);\n    evt.preventDefault();\n    clearErrors();\n    fire.auth().signInWithEmailAndPassword(email, password).catch(function (err) {\n      switch (err.code) {\n        case \"auth/invalid-email\":\n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":\n          setEmailError(err.message);\n          break;\n\n        case \"auth/wrong-password\":\n          setPasswordError(err.message);\n          break;\n\n        default:\n      }\n    });\n  };\n\n  var handleSignup = function handleSignup(evt) {\n    evt.preventDefault();\n    clearErrors();\n    fire.auth().createUserWithEmailAndPassword(email, password).catch(function (err) {\n      switch (err.code) {\n        case \"auth/email-already-in-use\":\n        case \"auth/invalid-email\":\n          setEmailError(err.message);\n          break;\n\n        case \"auth/weak-password\":\n          setPasswordError(err.message);\n          break;\n\n        default:\n      }\n    });\n  };\n\n  var handleLogout = function handleLogout() {\n    setUser(null);\n    fire.auth().signOut();\n    history.push('/');\n  };\n\n  useEffect(function () {\n    var authListener = function authListener() {\n      fire.auth().onAuthStateChanged(function (user) {\n        if (user !== null) {\n          clearInputs();\n          setUser(user);\n          history.push('/profile');\n        } else {\n          setUser(null);\n        }\n      });\n    };\n\n    authListener();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    isAuthed: user !== null,\n    path: \"/profile\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(Profile, {\n        handleLogout: handleLogout,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 79\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: function component() {\n      return /*#__PURE__*/React.createElement(Login, {\n        email: email,\n        setEmail: setEmail,\n        password: password,\n        setPassword: setPassword,\n        handleLogin: handleLogin,\n        handleSignup: handleSignup,\n        hasAccount: hasAccount,\n        setHasAccount: setHasAccount,\n        emailError: emailError,\n        passwordError: passwordError,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 49\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://code.jquery.com/jquery-3.2.1.slim.min.js\",\n    integrity: \"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\",\n    crossOrigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\",\n    integrity: \"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\",\n    crossOrigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\",\n    integrity: \"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\",\n    crossOrigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/MacbookPro/Desktop/projects/project_3/client/src/App.js"],"names":["React","useState","useEffect","Route","withRouter","Home","Login","Profile","Navbar","fire","PrivateRoute","App","history","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","clearInputs","clearErrors","handleLogin","evt","console","log","preventDefault","auth","signInWithEmailAndPassword","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","handleLogout","signOut","push","authListener","onAuthStateChanged"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Route, withRouter } from 'react-router-dom'\nimport Home from './components/Home'\nimport Login from './components/Login'\nimport Profile from './components/Profile'\nimport Navbar from './components/Navbar'\nimport fire from './fire'\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nfunction App({history}) {\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [hasAccount, setHasAccount] = useState(false);\n\n  const clearInputs = () => {\n    setEmail('');\n    setPassword('');\n  }\n\n  const clearErrors = () => {\n    setEmailError('');\n    setPasswordError('');\n  }\n\n  const handleLogin = (evt) => {\n    console.log('handle login is happening!!!', email, password)\n    evt.preventDefault();\n    clearErrors();\n    fire\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch(err => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n          default:\n        }\n      })\n  }\n  const handleSignup = (evt) => {\n    evt.preventDefault();\n    clearErrors();\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch(err => {\n        switch (err.code) {\n          case \"auth/email-already-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n          default:\n        }\n      })\n  }\n  const handleLogout = () => {\n    setUser(null)\n    fire.auth().signOut();\n    history.push('/');\n  }\n  \n\n  useEffect(() => {\n    const authListener = () => {\n      fire.auth().onAuthStateChanged(user => {\n        if (user !== null) {\n          clearInputs();\n          setUser(user)\n          history.push('/profile');\n        } else {\n          setUser(null)\n        }\n      })\n    }\n    authListener();\n  }, [])\n\n  return (\n      <div className=\"container\">\n        <Navbar />\n        <Route exact path=\"/\" component={Home} />\n      <PrivateRoute isAuthed={user !== null} path=\"/profile\" component={() => <Profile handleLogout={handleLogout} />} />\n        {/* {user ? (\n          <Route exact path=\"/profile\" component={Profile}>\n            <Profile handleLogout={handleLogout} />\n          </Route>\n        ) :\n          (<Route exact path=\"/login\">\n            <Login\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n              handleLogin={handleLogin}\n              handleSignup={handleSignup}\n              hasAccount={hasAccount}\n              setHasAccount={setHasAccount}\n              emailError={emailError}\n              passwordError={passwordError} />\n          </Route>)} */}\n          <Route path=\"/login\" component={() => <Login\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n              handleLogin={handleLogin}\n              handleSignup={handleSignup}\n              hasAccount={hasAccount}\n              setHasAccount={setHasAccount}\n              emailError={emailError}\n              passwordError={passwordError} />} />\n  \n\n        <script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"\n          integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\"\n          crossOrigin=\"anonymous\"></script>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"\n          integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\"\n          crossOrigin=\"anonymous\"></script>\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\"\n          integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\"\n          crossOrigin=\"anonymous\"></script>\n      </div>\n  );\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}